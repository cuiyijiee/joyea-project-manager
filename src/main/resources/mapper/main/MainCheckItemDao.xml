<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="me.cuiyijie.joyea.dao.main.MainCheckItemDao">

    <insert id="insert">
        INSERT INTO check_item(id, check_standard, check_type_id, check_type_name, seq, operation_id, operation_no,
                               self_check_person_id, self_check_person_name, self_check_type, self_check_result,
                               special_check_person_id, special_check_person_name, special_check_type,
                               special_check_result,
                               mutual_check_person_id, mutual_check_person_name, mutual_check_type, mutual_check_result)
        VALUES (#{checkItem.id},
                #{checkItem.checkStandard},
                #{checkItem.checkTypeId},
                #{checkItem.checkTypeName},
                #{checkItem.seq},
                #{checkItem.operationId},
                #{checkItem.operationNo},
                #{checkItem.selfCheckPersonId},
                #{checkItem.selfCheckPersonName},
                #{checkItem.selfCheckType},
                #{checkItem.selfCheckResult},
                #{checkItem.specialCheckPersonId},
                #{checkItem.specialCheckPersonName},
                #{checkItem.specialCheckType},
                #{checkItem.specialCheckResult},
                #{checkItem.mutualCheckPersonId},
                #{checkItem.mutualCheckPersonName},
                #{checkItem.mutualCheckType},
                #{checkItem.mutualCheckResult})
    </insert>

    <insert id="insertMany">
        INSERT INTO check_item(id, check_standard, check_type_id, check_type_name, seq, operation_id, operation_no,
        self_check_person_id, self_check_person_name,self_check_type,self_check_result,
        special_check_person_id, special_check_person_name,special_check_type,special_check_result,
        mutual_check_person_id,mutual_check_person_name,mutual_check_type,mutual_check_result)
        VALUES
        <foreach collection="list" index="index" item="checkItem" separator=",">
            (
            #{checkItem.id},
            #{checkItem.checkStandard},
            #{checkItem.checkTypeId},
            #{checkItem.checkTypeName},
            #{checkItem.seq},
            #{checkItem.operationId},
            #{checkItem.operationNo},

            #{checkItem.selfCheckPersonId},
            #{checkItem.selfCheckPersonName},
            #{checkItem.selfCheckType},
            #{checkItem.selfCheckResult},

            #{checkItem.specialCheckPersonId},
            #{checkItem.specialCheckPersonName},
            #{checkItem.specialCheckType},
            #{checkItem.specialCheckResult},

            #{checkItem.mutualCheckPersonId},
            #{checkItem.mutualCheckPersonName},
            #{checkItem.mutualCheckType},
            #{checkItem.mutualCheckResult}
            )
        </foreach>
    </insert>

    <select id="list" resultType="me.cuiyijie.joyea.domain.JoyeaCheckItem">
        SELECT ci.id                        AS id,
               ci.check_standard            AS checkStandard,
               ci.check_type_id             AS checkTypeId,
               ci.check_type_name           AS checkTypeName,
               ci.seq                       AS seq,
               ci.operation_id              AS operationId,
               ci.operation_no              AS operationNo,

               ci.self_check_person_id      AS selfCheckPersonId,
               ci.self_check_person_name    AS selfCheckPersonName,
               ci.self_check_type           AS selfCheckType,
               ci.self_check_result         AS selfCheckResult,

               ci.special_check_person_id   AS specialCheckPersonId,
               ci.special_check_person_name AS specialCheckPersonName,
               ci.special_check_type        AS specialCheckType,
               ci.special_check_result      AS specialCheckResult,

               ci.mutual_check_person_id    AS mutualCheckPersonId,
               ci.mutual_check_person_name  AS mutualCheckPersonName,
               ci.mutual_check_type         AS mutualCheckType,
               ci.mutual_check_result       AS mutualCheckResult
        FROM check_item AS ci
        WHERE ci.operation_id = #{checkItem.operationId}
          AND ci.operation_no = #{checkItem.operationNo}
        ORDER BY ci.seq
    </select>

    <select id="findById" resultType="me.cuiyijie.joyea.domain.JoyeaCheckItem">
        SELECT ci.id                        AS id,
               ci.check_standard            AS checkStandard,
               ci.check_type_id             AS checkTypeId,
               ci.check_type_name           AS checkTypeName,
               ci.seq                       AS seq,
               ci.operation_id              AS operationId,
               ci.operation_no              AS operationNo,

               ci.self_check_person_id      AS selfCheckPersonId,
               ci.self_check_person_name    AS selfCheckPersonName,
               ci.self_check_type           AS selfCheckType,
               ci.self_check_result         AS selfCheckResult,

               ci.special_check_person_id   AS specialCheckPersonId,
               ci.special_check_person_name AS specialCheckPersonName,
               ci.special_check_type        AS specialCheckType,
               ci.special_check_result      AS specialCheckResult,

               ci.mutual_check_person_id    AS mutualCheckPersonId,
               ci.mutual_check_person_name  AS mutualCheckPersonName,
               ci.mutual_check_type         AS mutualCheckType,
               ci.mutual_check_result       AS mutualCheckResult
        FROM check_item AS ci
        WHERE ci.id = #{id}
    </select>

    <update id="update">
        UPDATE check_item
        <set>
            <if test="checkItem.checkStandard != null and checkItem.checkStandard != ''">
                check_standard = #{checkItem.checkStandard},
            </if>
            <if test="checkItem.checkTypeId != null and checkItem.checkTypeId != ''">
                check_type_id = #{checkItem.checkTypeId},
            </if>
            <if test="checkItem.checkTypeName != null and checkItem.checkTypeName != ''">
                check_type_name = #{checkItem.checkTypeName},
            </if>
            <if test="checkItem.seq != null and checkItem.seq != ''">
                seq = #{checkItem.seq},
            </if>

            <if test="checkItem.selfCheckPersonId != null and checkItem.selfCheckPersonId != ''">
                self_check_person_id = #{checkItem.selfCheckPersonId},
            </if>
            <if test="checkItem.selfCheckPersonName != null and checkItem.selfCheckPersonName != ''">
                self_check_person_name = #{checkItem.selfCheckPersonName},
            </if>
            <if test="checkItem.selfCheckType != null and checkItem.selfCheckType != ''">
                self_check_type = #{checkItem.selfCheckType},
            </if>
            <if test="checkItem.selfCheckResult != null">
                self_check_result = #{checkItem.selfCheckResult},
            </if>

            <if test="checkItem.specialCheckPersonId != null and checkItem.specialCheckPersonId != ''">
                special_check_person_id = #{checkItem.specialCheckPersonId},
            </if>
            <if test="checkItem.specialCheckPersonName != null and checkItem.specialCheckPersonName != ''">
                special_check_person_name = #{checkItem.specialCheckPersonName},
            </if>
            <if test="checkItem.specialCheckType != null and checkItem.specialCheckType != ''">
                special_check_type = #{checkItem.specialCheckType},
            </if>
            <if test="checkItem.specialCheckResult != null">
                special_check_result = #{checkItem.specialCheckResult},
            </if>

            <if test="checkItem.mutualCheckPersonId != null and checkItem.mutualCheckPersonId != ''">
                mutual_check_person_id = #{checkItem.mutualCheckPersonId},
            </if>
            <if test="checkItem.mutualCheckPersonName != null and checkItem.mutualCheckPersonName != ''">
                mutual_check_person_name = #{checkItem.mutualCheckPersonName},
            </if>
            <if test="checkItem.mutualCheckType != null and checkItem.mutualCheckType != ''">
                mutual_check_type = #{checkItem.mutualCheckType},
            </if>
            <if test="checkItem.mutualCheckResult != null">
                mutual_check_result = #{checkItem.mutualCheckResult},
            </if>
        </set>
        WHERE ID = #{checkItem.id}
    </update>

    <delete id="delete">
        DELETE
        FROM check_item
        WHERE id = #{id}
    </delete>

</mapper>