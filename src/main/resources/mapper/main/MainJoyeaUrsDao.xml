<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="me.cuiyijie.joyea.dao.main.MainUrsDao">

    <insert id="insert">
        INSERT INTO urs(project_number, urs_id, urs_number, sale_project_id, cf_seq, cf_type, our_standard,
                        custom_standard, is_satisfy, conclusion, remark)
        VALUES (#{item.projectNumber},
                #{item.ursId},
                #{item.ursNumber},
                #{item.saleProjectId},
                #{item.cfSeq},
                #{item.cfType},
                #{item.ourStandard},
                #{item.customStandard},
                #{item.isSatisfy},
                #{item.conclusion},
                #{item.remark})
    </insert>

    <select id="selectByProjectNumber" parameterType="java.lang.String"
            resultType="me.cuiyijie.joyea.domain.JoyeaUrs">
        SELECT project_number  AS project_number,
               urs_id          AS ursId,
               urs_number      AS ursNumber,
               sale_project_id AS saleProjectId,
               cf_seq          AS cfSeq,
               cf_type         AS cfType,
               our_standard    AS ourStandard,
               custom_standard AS customStandard,
               is_satisfy      AS isSatisfy,
               conclusion      AS conclusion,
               remark          AS remark
        FROM urs
        WHERE urs.project_number = #{projectNumber,jdbcType=VARCHAR}
    </select>

    <update id="update">
        UPDATE urs
        <set>
            <if test="item.projectNumber != null and item.projectNumber != ''">
                project_number = #{item.projectNumber},
            </if>
            <if test="item.ursNumber != null and item.ursNumber != ''">
                urs_number = #{item.ursNumber},
            </if>
            <if test="item.saleProjectId != null and item.saleProjectId != ''">
                sale_project_id = #{item.saleProjectId},
            </if>
            <if test="item.cfSeq != null and item.cfSeq != ''">
                cf_seq = #{item.cfSeq},
            </if>
            <if test="item.cfType != null and item.cfType != ''">
                cf_type = #{item.cfType},
            </if>
            <if test="item.ourStandard != null and item.ourStandard != ''">
                our_standard = #{item.ourStandard},
            </if>
            <if test="item.customStandard != null and item.customStandard != ''">
                custom_standard = #{item.customStandard},
            </if>
            <if test="item.isSatisfy != null and item.isSatisfy != ''">
                is_satisfy = #{item.isSatisfy},
            </if>
            <if test="item.conclusion != null and item.conclusion != ''">
                conclusion = #{item.conclusion},
            </if>
            <if test="item.remark != null and item.remark != ''">
                remark = #{item.remark},
            </if>
        </set>
        WHERE urs_id = #{item.ursId}
    </update>

    <delete id="delete">
        DELETE
        FROM urs
        WHERE urs_id = #{ursId}
    </delete>
</mapper>