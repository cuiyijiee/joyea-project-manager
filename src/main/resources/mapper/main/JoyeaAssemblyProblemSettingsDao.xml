<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="me.cuiyijie.joyea.dao.main.JoyeaAssemblyProblemSettingsDao">

    <resultMap id="BaseResultMap" type="me.cuiyijie.joyea.domain.JoyeaAssemblyProblemSettings">

        <id property="problemId" column="problem_id"/>
        <id property="selfCheckResult" column="self_check_result"/>
        <id property="selfCheckRemark" column="self_check_remark"/>
        <id property="mutualCheckResult" column="mutual_check_result"/>
        <id property="mutualCheckRemark" column="mutual_check_remark"/>
        <id property="mutualCheckPersonId" column="mutual_check_person_id"/>
        <id property="mutualCheckPersonName" column="mutual_check_person_name"/>
        <id property="specialCheckResult" column="special_check_result"/>
        <id property="specialCheckRemark" column="special_check_remark"/>

    </resultMap>

    <select id="findById" resultMap="BaseResultMap">
        SELECT *
        from assembly_problem_settings
        WHERE problem_id = #{id,jdbcType=VARCHAR}
    </select>

    <insert id="insert">
        INSERT INTO assembly_problem_settings(problem_id, self_check_result, self_check_remark, mutual_check_result,
                                              mutual_check_remark,
                                              mutual_check_person_id, mutual_check_person_name, special_check_result,
                                              special_check_remark)
        VALUES (#{item.problemId},
                #{item.selfCheckResult},
                #{item.selfCheckRemark},
                #{item.mutualCheckResult},
                #{item.mutualCheckRemark},
                #{item.mutualCheckPersonId},
                #{item.mutualCheckPersonName},
                #{item.specialCheckResult},
                #{item.specialCheckRemark})
    </insert>

    <update id="update">
        UPDATE assembly_problem_settings
        <set>
            <if test="item.selfCheckResult != null and item.selfCheckResult != ''">
                self_check_result = #{item.selfCheckResult},
            </if>
            <if test="item.selfCheckRemark != null and item.selfCheckRemark != ''">
                self_check_remark = #{item.selfCheckRemark},
            </if>
            <if test="item.mutualCheckResult != null and item.mutualCheckResult != ''">
                mutual_check_result = #{item.mutualCheckResult},
            </if>
            <if test="item.mutualCheckRemark != null and item.mutualCheckRemark != ''">
                mutual_check_remark = #{item.mutualCheckRemark},
            </if>
            <if test="item.mutualCheckPersonId != null and item.mutualCheckPersonId != ''">
                mutual_check_person_id = #{item.mutualCheckPersonId},
            </if>
            <if test="item.mutualCheckPersonName != null and item.mutualCheckPersonName != ''">
                mutual_check_person_name = #{item.mutualCheckPersonName},
            </if>
            <if test="item.specialCheckResult != null and item.specialCheckResult != ''">
                special_check_result = #{item.specialCheckResult},
            </if>
            <if test="item.specialCheckRemark != null and item.specialCheckRemark != ''">
                special_check_remark = #{item.specialCheckRemark},
            </if>
        </set>
        WHERE problem_id = #{item.problemId}
    </update>

</mapper>